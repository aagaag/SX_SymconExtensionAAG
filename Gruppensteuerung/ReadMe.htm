<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <h1>Beschreibung</h1>
    <h3>Gruppensteuerung</h3>
    <p>Die Gruppensteuerung ermöglicht das gleichzeitige Schalten mehrerer Endgeräte.<br />
    Über Funktionen kann der aktuelle Zustand gespeichert, und später wieder aufgerufen werden.</p>

    <h3>Notbeleuchtung / Alarmbeleuchtung</h3>
    <p>
        Beim aktivieren der Alarmbeleuchtung mit <b>SXGRP_SetAlertState($id, true)</b> werden alle Endgeräte eingeschaltet und beim beenden der Alarmbeleuchtung mit <b>SXGRP_SetAlertState($id, false)</b> auf den vorherigen Zustand zurück versetzt.<br />
        <b>Hinweis:</b> Bei aktiver Alarmbeleuchtung kann die Beleuchtung nicht über die Gruppenfunktion ausgeschaltet werden.
    </p>
    

    <hr />
    <h1>Einrichtung</h1>
    <ul>
        <li>Erstellen Sie eine neue Instanz der Gruppensteuerung.</li>
        <li>Fügen Sie in der Kategorie "devices" Variablen oder Links zu Variablen hinzu, welche geschaltet werden sollen. <small><a href="#devices">Siehe "devices"</a>)</small></li>
        <li>Klicken Sie in der Instanz-Konfiguration auf "Geräte aktualisieren".</li>
        <li>Verlinken Sie die Variable "Ergebnis Boolean" mit der Weboberfläche um alle Geräte Ein- und Auszuschalten. bzw. den Status der geräte zu sehen.</li>
    </ul>

    <hr />


    <h1>Variablen</h1>

    <h3>Ergebnis Boolean (~switch)</h3>
    <p>An: Mindestens ein Verbraucher ist aktiv.<br />
    Aus: Alle Verbraucher sind aus.
    </p>
    <p>Kann über die Weboberfläche gesetzt werden und schaltet damit alle Verbraucher aus oder ein.</p>
    
    <h3>Ergebnis Float (~Intensity.1)</h3>
    <p>Es wird der höchste Wert aller aktiven Geräte angezeigt. Falls Geräte mit Boolean (Ein/Aus) vorhanden sind, steht der Wert bei aktiven Geräten auf 100 % (1.0) und deaktivierten geräten auf 0 % (0.0)</p>
    <p>Kann über die Weboberfläche gesetzt werden und schaltet damit alle Verbraucher auf einen bestimmten Wert.</p>

    <h3>Ergebnis Integer (~Intensity.100)</h3>
    <p>Es wird der höchste Wert aller aktiven Geräte angezeigt. Falls Geräte mit Boolean (Ein/Aus) vorhanden sind, steht der Wert bei aktiven Geräten auf 100 % (100) und deaktivierten geräten auf 0 % (0)</p>
    <p>Kann über die Weboberfläche gesetzt werden und schaltet damit alle Verbraucher auf einen bestimmten Wert.</p>

    <h3>Hinweis</h3>
    <p>Die Werte der Variable "Ergebnis Float" und "Ergebnis Integer" werden intern mit dem Faktor 100 umgerechnet. Wird z.B. die Integer-Variable auf 100 gesetzt, so wird dabei die Float-Variable auf 1.0 gesetzt.</p>
    <p>Die Variable "Ergebnis Boolean" wird auf true gesetzt, sobald einer der anderen Variablen > 0 ist.</p>

    <hr />

    <h1>Kategorien</h1>
    <a name="devices"></a><h3>devices</h3>
    <p>In dieser Kategorie können Geräte und Links abgelegt werden, welche zu Gerätevariablen führen, die ein oder ausgeschaltet werden sollen.</p>
    <p>Unterstützt werden Variablen und alle anderen Geräte, welche auch über das WebFront geschaltet werden können, sowie Verknüpfungen zu den entsprechenden Variablen.<br />
    <b>Hinweis:</b> Bei Geräten die Variable, welche geschaltet werden soll als Verknüpfung verwenden, nicht die gesamte Instanz.</p>

    <hr />

    <h1>Funktionen</h1>

    <h3>SXGRP_UpdateEvents($id)</h3>
    <p>Erstellt alle Ereignisse, die für eine Korrekte Funktion erforderlich sind. Führen Sie diese Funktion aus, nachdem Geräten hinzugefügt oder entfernt wurden.</p>
    <p>Diese Funktion ist auch über die Konfigurationsseite aufrufbar.</p>

    <h3>SXGRP_RefreshStatus($id)</h3>
    <p>Erzwingt das sofortige aktualisieren des Status. Der Status wird in der Variable "Ergebnis Boolean" ausgegeben. Alternativ wird der Status über Events überwacht, welche beim aufrufen der Funktion SXGRP_UpdateEvents() erstellt werden.</p>

    <h3>SXGRP_SetState($id, $value)</h3>
    <p>Schaltet alle Verbraucher aus oder ein. Diese Option ist auch über die Konfigurationsseite aufrufbar.</p>
    <p>$value (booelan) = true oder false</p>

    <h3>SXGRP_SetAlertState($id, $value)</h3>
    <p>Schaltet den Alarmmodus ein oder aus. Bei aktivem Alarmmodus werden alle Geräte eingeschaltet und beim beenden wieder auf den vorherigen Wert zurück gesetzt. Diese Option ist auch über die Konfigurationsseite aufrufbar.</p>
    <p>$value (booelan) = true oder false</p>

    <h3>SXGRP_GetCurrentStateString($id)</h3>
    <p>Liefert als Ergebnis eine JSON Zeichenfolge, welche den aktuellen Status aller Geräte enthält. Diese kann zwischengespeichert werden um später auf den gleichen Zustand zurück zu schalten.</p>

    <h3>SXGRP_SetCurrentStateString($id, $value)</h3>
    <p>Schaltet alle Verbraucher auf einen zuvor gespeicherten Zustand zurück.</p>
    <p>$value (string) = JSON Zeichenfolge, welche mit SXGRP_GetCurrentStateString() erstellt wurde.</p>

</body>
</html>